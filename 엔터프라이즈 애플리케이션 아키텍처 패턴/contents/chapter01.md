# 1장. 계층화
계층화는 소프트웨어 설계자가 복잡한 소프트웨어 시스템을 분할하는 데 사용하는 가장 일반적인 기법.
- 컴퓨터 아키텍처의 경우 프로그래밍 언어, OS, 장치 드라이버, CPU 명령어 집합 등.
- 네트워크의 프로토콜 계층

상위 계층은 하위 계층이 정의하는 다양한 서비스를 사용하지만, **하위 계층은 상위 계층을 인식하지 못한다.** 일반적으로 각 계층은 상위 계층이 하위 계층을 보지 못하게 한다.

시스템을 계층으로 분할하면 여러 중요한 이점이 있다.

- 다른 계층에 대한 정보 없이도 단일 계층을 하나의 일관된 계층으로 이해할 수 있다.
- 동일한 기본 서비스를 가진 대안 구현으로 계층을 대체할 수 있다.
- 계층 간의 의존성을 최소화할 수 있다.
- 계층은 표준화하기 좋은 위치다. TCP와 IP는 해당 계층이 작동하는 위치를 정의하기 때문에 표준이 됐다.
- 한 번 구축한 계층은 여러 다른 상위 서비스에서 사용할 수 있다.

계층화는 중요한 기법이지만 단점도 있다.
- 계층은 전체가 효과적으로 캡슐화되지 않는다. 그 결과, 뭔가를 변경했을 때 다른 계층에 영향을 미치는 경우가 있다. 계층형 엔터프라이즈 애플리케이션에서 볼 수 있는 전형적인 예는 UI에 표시해야 하는 필드가 데이터베이스에도 있어야 하므로 그 사이에 있는 모든 계층에 해당 필드를 추가해야 한다는 것이다.
- 계층을 추가하면 성능이 저하된다. 일반적으로 각 계층에서는 정보를 한 표현에서 다른 표현으로 변환해야 한다. 다만, 기반 기능을 캡슐화하면 성능 저하가 보상될 만큼 효율이 향상되는 경우도 있다. 예를 들어, 트랜잭션을 제어하는 계층을 최적화하면 애플리케이션 전체가 빨라지는 효과가 있다.

그러나 계층형 아키텍처에서 가장 어려운 부분은 어떤 계층을 만들고 각 계층이 어떤 역할을 담당할지 결정하는 것이다.

## 엔터프라이즈 애플리케이션에서 계층의 발전
