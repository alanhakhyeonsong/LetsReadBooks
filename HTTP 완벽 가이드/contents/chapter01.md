# 1장. HTTP 개관
HTTP는 신뢰성 있는 데이터 전송 프로토콜을 사용하기 때문에, 데이터가 지구 반대편에서 오더라도 전송 중 손상되거나 꼬이지 않음을 보장한다.

## 리소스
웹 서버는 웹 리소스를 관리하고 제공한다. 웹 리소스는 웹에 콘텐츠를 제공하는 모든 것이다.

### 미디어 타입
인터넷은 수천 가지 데이터 타입을 다루기 때문에, HTTP는 웹에서 전송되는 객체 각각에 신중하게 MIME 타입이라는 데이터 포멧 라벨을 붙인다. **MIME(Multipurpose Internet Mail Extensions, 다목적 인터넷 메일 확장)은 원래 각기 다른 전자메일 시스템 사이에서 메시지가 오갈 때 겪는 문제점을 해결하기 위해 설계되었다.**

`Content-Type`, `Accept-Type`에 헤더로 지정한다.

### URI
URI는 Uniform Resource Identifier의 약자로 자원의 식별자라 생각하면 된다. 정보 리소스를 고유하게 식별하고 위치를 지정할 수 있다.

```
https://www.example.com/something/special.gif
```

위와 같은 URL이 URI가 되는 것이다. URL은 Uniform Resource Locator의 약자로 특정 서버의 한 리소스에 대한 구체적인 위치를 서술한다.

- 첫 번째로 오는 `https://`을 scheme이라 한다.
- 두 번째로 오는 `www.example.com`이 서버의 인터넷 주소다.
- 마지막인 `/something/special.gif`는 웹 서버의 리소스를 가리킨다.

오늘날 대부분의 URI는 URL이다.

### 트랜잭션
HTTP 트랜잭션은 요청 명령(client to server)과 응답 결과(return from server to client)로 구성되어 있다.

HTTP 메서드와 상태 코드는 추 후 다뤄보자.

### TCP Connection
HTTP는 애플리케이션 계층 프로토콜이다. 네트워크 통신의 핵심적인 세부사항에 대해 신경 쓰지 않는 대신 대중적이고 신뢰성 있는 인터넷 전송 프로토콜인 TCP/IP에게 맡긴다.

TCP는 다음을 제공한다.
- 오류 없는 데이터 전송
- 순서에 맞는 전달 (데이터는 언제나 보낸 순서대로 도착)
- 조각나지 않는 데이터 스트림 (언제든 어떤 크기로든 보낼 수 있음)

TCP/IP는 TCP와 IP가 층을 이루는 패킷 교환 네트워크 프로토콜의 집합이다. **각 네트워크와 하드웨어의 특성을 숨기고, 어떤 종류의 컴퓨터나 네트워크든 서로 신뢰성 있는 의사소통을 하게 해 준다.**

HTTP를 이용한 통신 순서는 다음과 같다. (단순 HTML 리소스 요청/응답)
1. 웹브라우저는 서버의 URL에서 호스트 명을 추출한다.
2. 웹브라우저는 서버의 호스트 명을 IP로 변환한다.
3. 웹브라우저는 URL에서 포트번호(있다면)를 추출한다.
4. 웹브라우저는 웹 서버와 TCP 커넥션을 맺는다.
5. 웹브라우저는 서버에 HTTP 요청을 보낸다.
6. 서버는 웹브라우저에 HTTP 응답을 돌려준다.
7. 커넥션이 닫히면, 웹브라우저는 문서를 보여준다.

### 프로토콜 버전
HTTP/0.9는 오직 GET 메서드만 지원하고, 멀티미디어 콘텐츠에 대한 MIME 타입이나, HTTP 헤더, 버전 번호는 지원하지 않는다. 이 프로토콜은 심각한 디자인 결함이 다수 있고 구식 클라이언트하고만 같이 사용할 수 있다.

HTTP/1.0은 처음으로 널리 쓰이기 시작한 버전이다. 버전 번호, HTTP 헤더, 추가 메서드, 멀티미디어 객체 처리를 추가했다. 시각적으로 매력적인 웹페이지와 상호작용하는 폼을 실현했고 이는 WWW를 대세로 만들었다. 하지만 결코 잘 정의된 명세가 아니다.

HTTP/1.0+는 1990년대 중반, 기존 HTTP에 기능을 추가한 것이다. 오래 지속되는 `keep-alive` 커넥션, 가상 호스팅 지원, 프락시 연결 지원을 포함해 많은 기능이 공식적이진 않지만 사실상의 표준으로 HTTP에 추가되었다.

HTTP/1.1은 HTTP 설계의 구조적 결함 교정, 두드러진 성능 최적화, 잘못된 기능 제거에 집중한 버전이다. 현재의 HTTP 버전은 이에 해당한다.

HTTP/2.0은 1.1의 성능 문제를 개선하기 위해 Google의 SPDY 프로토콜을 기반으로 설계가 진행 중인 프로토콜이다.

### 그 외
- 프락시: 클라이언트와 서버 사이에 위치한 HTTP 중개자
- 캐시: 많이 찾는 웹페이지를 클라이언트 가까이에 보관하는 HTTP 창고
- 게이트웨이: 다른 애플리케이션과 연결된 특별한 웹 서버
- 터널: 단순히 HTTP 통신을 전달하기만 하는 특별한 프락시
- 에이전트: 자동화된 HTTP 요청을 만드는 준지능적 웹 클라이언트