# 3μ¥. ν”„λ΅μ„Έμ¤ κ°„ ν†µμ‹ 
## λ§μ΄ν¬λ΅μ„λΉ„μ¤ μ•„ν‚¤ν…μ² IPC κ°μ”
μ„λΉ„μ¤μ— μ μ© κ°€λ¥ν• IPC κΈ°μ μ€ μ„ νƒμ ν­μ΄ λ„“λ‹¤.
- λ™κΈ° μ”μ²­/μ‘λ‹µ κΈ°λ°: HTTP REST, gRPC
- λΉ„λ™κΈ° λ©”μ‹μ§€ κΈ°λ°: AMQP, STOMP

λ©”μ‹μ§€ ν¬λ§· μ—­μ‹
- ν…μ¤νΈ ν¬λ§·: JSON, XML
- λ°”μ΄λ„λ¦¬ ν¬λ§·: Avro, Protocol Buffer

### μƒνΈ μ‘μ© μ¤νƒ€μΌ
ν΄λΌμ΄μ–ΈνΈ/μ„λΉ„μ¤ μƒνΈ μ‘μ© μ¤νƒ€μΌμ€ λ‘ κ°€μ§€ κΈ°μ¤€μΌλ΅ λ¶„λ¥ν•  μ μλ‹¤.

μ²«μ§Έ, μΌλ€μΌ/μΌλ€λ‹¤ μ—¬λ¶€μ΄λ‹¤.
- μΌλ€μΌ: κ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ€ μ •ν™•ν ν• μ„λΉ„μ¤κ°€ μ²λ¦¬ν•λ‹¤.
  - μ”μ²­/μ‘λ‹µ: ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤μ— μ”μ²­μ„ ν•κ³  μ‘λ‹µμ„ κΈ°λ‹¤λ¦°λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µμ΄ μ λ• λ„μ°©ν•λ¦¬λΌ κΈ°λ€ν•κ³  λ€κΈ° λ„μ¤‘ λΈ”λ΅ν‚Ήν•  μ μλ‹¤. κ²°κ³Όμ μΌλ΅ **μ„λΉ„μ¤κ°€ μ„λ΅ κ°•ν•κ² κ²°ν•©λλ” μƒνΈ μ‘μ© μ¤νƒ€μΌ**μ΄λ‹¤.
  - λΉ„λ™κΈ° μ”μ²­/μ‘λ‹µ: ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤μ— μ”μ²­μ„ ν•κ³  μ„λΉ„μ¤λ” λΉ„λ™κΈ°μ μΌλ΅ μ‘λ‹µν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” λ€κΈ° μ¤‘μ— λΈ”λ΅ν‚Ήν•μ§€ μ•κ³ , μ„λΉ„μ¤λ” μ¤λ«λ™μ• μ‘λ‹µν•μ§€ μ•μ„ μ μλ‹¤.
  - λ‹¨λ°©ν–¥ μ•λ¦Ό: ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤μ— μΌλ°©μ μΌλ΅ μ”μ²­λ§ ν•κ³  μ„λΉ„μ¤λ” μ‘λ‹µμ„ λ³΄λ‚΄μ§€ μ•λ”λ‹¤.
- μΌλ€λ‹¤: κ° ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μ—¬λ¬ μ„λΉ„μ¤κ°€ ν‘λ™ν•μ—¬ μ²λ¦¬ν•λ‹¤.
  - λ°ν–‰/κµ¬λ…: ν΄λΌμ΄μ–ΈνΈλ” μ•λ¦Ό λ©”μ‹μ§€λ¥Ό λ°ν–‰ν•κ³ , μ—¬κΈ°μ— κ΄€μ‹¬ μλ” 0κ° μ΄μƒμ μ„λΉ„μ¤(μ¦‰, κ΄€μ‹¬ μλ” μ„λΉ„μ¤κ°€ μ—†λ” κ²½μ°λ„ μμ)κ°€ λ©”μ‹μ§€λ¥Ό μ†λΉ„ν•λ‹¤.
  - λ°ν–‰/λΉ„λ™κΈ° μ‘λ‹µ: ν΄λΌμ΄μ–ΈνΈλ” μ”μ²­ λ©”μ‹μ§€λ¥Ό λ°ν–‰ν•κ³  μ£Όμ–΄μ§„ μ‹κ°„ λ™μ• κ΄€λ ¨ μ„λΉ„μ¤κ°€ μ‘λ‹µν•κΈΈ κΈ°λ‹¤λ¦°λ‹¤.

λ‘μ§Έ, λ™κΈ°/λΉ„λ™κΈ° μ—¬λ¶€μ΄λ‹¤.
- λ™κΈ°: ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤κ°€ μ μ‹κ°„μ— μ‘λ‹µν•λ¦¬λΌ κΈ°λ€ν•κ³  λ€κΈ° λ„μ¤‘ λΈ”λ΅ν‚Ήν•  μ μλ‹¤.
- λΉ„λ™κΈ°: ν΄λΌμ΄μ–ΈνΈκ°€ λΈ”λ΅ν‚Ήν•μ§€ μ•λ”λ‹¤. μ‘λ‹µμ€ μ¦‰μ‹ μ „μ†΅λμ§€ μ•μ•„λ„ λλ‹¤.

### λ§μ΄ν¬λ΅μ„λΉ„μ¤ API μ •μ
μ–΄λ–¤ IPCλ¥Ό μ„ νƒν•λ“ , μ„λΉ„μ¤ APIλ¥Ό IDL(Interface Definition Language)λ΅ μ •ν™•ν•κ² μ •μν•΄μ•Ό ν•λ‹¤. μΈν„°νμ΄μ¤ λ…μ„Έλ¥Ό μ‘μ„±ν• ν›„ ν΄λΌμ΄μ–ΈνΈ κ°λ°μμ™€ ν•¨κ» μλ…Όν•λ” κ³Όμ •μ„ λ‡ μ°¨λ΅€ λν’€μ΄ν•λ©° APIλ¥Ό μ •μν• ν›„ μ„λΉ„μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤. μ΄λ° μ„  μ„¤κ³„ ν›„ κµ¬ν„ λ°©μ‹μΌλ΅ μ§„ν–‰ν•λ©΄ ν΄λΌμ΄μ–ΈνΈ λ‹μ¦μ— μΆ€ λ” λ¶€ν•©ν• μ„λΉ„μ¤λ¥Ό κµ¬μ¶•ν•  μ μλ‹¤.

## λ™κΈ° RPI ν¨ν„΄ μ‘μ© ν†µμ‹ 
**RPIλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤μ— μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ„λΉ„μ¤κ°€ μ²λ¦¬ ν›„ μ‘λ‹µμ„ νμ‹ ν•λ” IPCμ΄λ‹¤.** λ©”μ‹μ§•μΌλ΅ ν†µμ‹ ν•λ” ν΄λΌμ΄μ–ΈνΈμ™€ λ‹¬λ¦¬ μ‘λ‹µμ΄ μ λ• λ„μ°©ν•λ¦¬λΌ κ°€μ •ν•λ‹¤.

![image](https://github.com/alanhakhyeonsong/LetsReadBooks/assets/60968342/c6e6b8fe-1745-47f8-9a0e-204087b99547)

### λ™κΈ° RPI ν¨ν„΄: REST
RESTλ” (κ±°μ ν•­μƒ) HTTPλ΅ μ†ν†µν•λ” IPCμ΄λ‹¤. ν„μ¬ API κ°λ°μ€ REST μ¤νƒ€μΌμ΄ λ€μ„Έμ΄λ‹¤.

> π“ RESTλ” μ»΄ν¬λ„νΈ μƒνΈ μ‘μ©μ ν™•μ¥μ„±, μΈν„°νμ΄μ¤ μΌλ°ν™”, μ»΄ν¬λ„νΈ λ…λ¦½μ  λ°°ν¬, μƒνΈ μ‘μ© μ§€μ—°μ„ μ¤„μ΄κΈ° μ„ν•΄ μ¤‘κ°„ μ»΄ν¬λ„νΈ, λ³΄μ• κ°•ν™”, λ κ±°μ‹ μ‹μ¤ν…μ μΊ΅μν™”μ— μ—­μ μ„ λ‘” μ•„ν‚¤ν…μ² μ μ•½ μ΅°κ±΄ μ„ΈνΈλ¥Ό μ κ³µν•λ‹¤. - Roy Fielding

λ λ„λ“ λ¦¬μ²λ“μ¨μ REST μ„±μ™λ„ λ¨λΈμ€ κ³ λ―Όν•΄ λ³Ό ν•„μ”κ°€ μλ‹¤.
- λ λ²¨ 0: ν΄λΌμ΄μ–ΈνΈλ” μ„λΉ„μ¤λ³„λ΅ μ μΌν• URL λμ μ— HTTP POST μ”μ²­μ„ ν•μ—¬ μ„λΉ„μ¤λ¥Ό νΈμ¶ν•λ‹¤. μ”μ²­μ„ ν•  λ•λ§λ‹¤ μ–΄λ–¤ μ•΅μ…μ„ μν–‰ν• μ§€, κ·Έ λ€μƒμ€ λ¬΄μ—‡μΈμ§€ μ§€μ •ν•λ‹¤. ν•„μ”ν• λ§¤κ°λ³€μλ„ ν•¨κ» μ „λ‹¬ν•λ‹¤.
- λ λ²¨ 1: μ„λΉ„μ¤λ” λ¦¬μ†μ¤ κ°λ…μ„ μ§€μ›ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μν–‰ν•  μ•΅μ…κ³Ό λ§¤κ°λ³€μκ°€ μ§€μ •λ POST μ”μ²­μ„ ν•λ‹¤.
- λ λ²¨ 2: μ„λΉ„μ¤λ” HTTP λ™μ‚¬λ¥Ό μ΄μ©ν•΄ μ•΅μ…μ„ μν–‰ν•κ³ , μ”μ²­ μΏΌλ¦¬ λ§¤κ°λ³€μ λ° λ³Έλ¬Έ, ν•„μ” μ‹ λ§¤κ°λ³€μλ¥Ό μ§€μ •ν•λ‹¤. λ•λ¶„μ— μ„λΉ„μ¤λ” GET μ”μ²­μ„ μΊμ‹±ν•λ” λ“± μ›Ή μΈν”„λΌλ¥Ό ν™μ©ν•  μ μλ‹¤.
- λ λ²¨ 3: μ„λΉ„μ¤λ¥Ό HATEOAS(Hypertext As The Engine Of Application State) μ›μΉ™μ— κΈ°λ°ν•μ—¬ μ„¤κ³„ν•λ‹¤. HATEOASλ” GET μ”μ²­μΌλ΅ λ°ν™λ λ¦¬μ†μ¤ ν‘ν„ν•μ— κ·Έ λ¦¬μ†μ¤μ— λ€ν• μ•΅μ…μ λ§ν¬λ„ ν•¨κ» νƒμ› λ³΄λ‚΄μλ” μƒκ°μ΄λ‹¤. κ°€λ Ή ν΄λΌμ΄μ–ΈνΈλ” GET μ”μ²­μΌλ΅ μ£Όλ¬Έ λ°μ΄ν„°λ¥Ό μ΅°νν•κ³  μ΄λ• λ°ν™λ ν‘ν„ν• λ‚΄λ¶€ λ§ν¬λ¥Ό μ΄μ©ν•΄μ„ ν•΄λ‹Ή μ£Όλ¬Έμ„ μ·¨μ†ν•  μλ„ μλ‹¤. HATEOASλ¥Ό μ‚¬μ©ν•λ©΄ ν•λ“ μ½”λ”©ν• URLμ„ ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μ±μ—¬λ„£μ§€ μ•μ•„λ„ λλ‹¤.

REST λ¦¬μ†μ¤λ” λΉ„μ¦λ‹μ¤ κ°μ²΄ μ¤‘μ‹¬μ΄λ‹¤. μ–΄λ–»κ² ν•λ©΄ ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ ν• λ²μΌλ΅ μ—°κ΄€λ κ°μ²΄λ¥Ό λ¨λ‘ κ°€μ Έμ¬ μ μμ„μ§€ κ³ λ―Όν•κ² λλ‹¤.  
μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” ν• κ°€μ§€ λ°©λ²•μ€ ν΄λΌμ΄μ–ΈνΈκ°€ λ¦¬μ†μ¤λ¥Ό νλ“ν•  λ• μ—°κ΄€λ λ¦¬μ†μ¤λ„ ν•¨κ» μ΅°νν•λ„λ΅ APIκ°€ ν—λ½ν•λ” κ²ƒμ΄λ‹¤. κ·Έλ¬λ‚ μ‹λ‚λ¦¬μ¤κ°€ λ³µμ΅ν•΄μ§€λ©΄ ν¨μ¨μ΄ λ–¨μ–΄μ§€κ³  κµ¬ν„ μ‹κ°„μ΄ λ§μ΄ μ†μ”λλ” λ¬Έμ λ„ μλ‹¤. μ΄λ° κΉλ‹­μ— **λ°μ΄ν„°λ¥Ό ν¨μ¨μ μΌλ΅ μ΅°νν•  μ μκ² μ„¤κ³„λ GraphQLμ΄λ‚ λ„·ν”λ¦­μ¤ ν”μ½” λ“± λ€μ²΄ API κΈ°μ μ΄ κ°κ΄‘λ°›κΈ° μ‹μ‘ν–λ‹¤.**

**λΉ„μ¦λ‹μ¤ κ°μ²΄μ— μν–‰ν•  μ‘μ—…μ„ HTTP λ™μ‚¬μ— μ–΄λ–»κ² λ§¤ν•‘ν• μ§€λ„ κ³ λ―Όκ±°λ¦¬μ΄λ‹¤.** PUT μ‚¬μ© μ‹ ν•„μ μ”κ±΄μΈ λ©±λ“±μ„±μ΄ λ³΄μ¥λμ§€ μ•λ” μ—…λ°μ΄νΈλ„ μλ‹¤.  
ν• κ°€μ§€ ν•΄κ²° λ°©λ²•μ€ λ¦¬μ†μ¤μ νΉμ • λ¶€μ„λ¥Ό μ—…λ°μ΄νΈν•λ” ν•μ„ λ¦¬μ†μ¤λ¥Ό μ •μν•λ” κ²ƒμ΄λ‹¤. λ™μ‚¬λ¥Ό URL μΏΌλ¦¬ λ§¤κ°λ³€μλ΅ μ§€μ •ν•λ” λ°©λ²•λ„ μμ§€λ§ REST λ‹µμ§€ μ•μ•„ gRPC κ°™μ€ REST λ€μ²΄ κΈ°μ μ΄ μ μ  μΈκΈ°λ¥Ό λκ³  μλ” μ¶”μ„ΈκΈ°λ„ ν•λ‹¤.

RESTμ μ¥μ μ€ λ‹¤μκ³Ό κ°™λ‹¤.
- λ‹¨μν•κ³  μµμ™ν•λ‹¤.
- Postman κ°™μ€ λΈλΌμ°μ € ν”λ¬κ·ΈμΈμ΄λ‚ curl λ“±μ CLI λ„κµ¬λ¥Ό μ‚¬μ©ν•΄μ„ HTTP APIλ¥Ό κ°„νΈν•κ² ν…μ¤νΈν•  μ μλ‹¤.
- μ”μ²­/μ‘λ‹µ μ¤νƒ€μΌμ ν†µμ‹ μ„ μ§μ ‘ μ§€μ›ν•λ‹¤.
- HTTPλ” λ°©ν™”λ²½ μΉν™”μ μ΄λ‹¤.
- μ¤‘κ°„ λΈλ΅μ»¤κ°€ ν•„μ”ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ‹μ¤ν… μ•„ν‚¤ν…μ²κ°€ λ‹¨μν•΄μ§„λ‹¤.

λ‹¨μ μ€ λ‹¤μκ³Ό κ°™λ‹¤.
- μ”μ²­/μ‘λ‹µ μ¤νƒ€μΌμ ν†µμ‹ λ§ μ§€μ›ν•λ‹¤.
- κ°€μ©μ„±μ΄ λ–¨μ–΄μ§„λ‹¤. μ¤‘κ°„μ—μ„ λ©”μ‹μ§€λ¥Ό λ²„νΌλ§ν•λ” λ§¤κ°μ μ—†μ΄ ν΄λΌμ΄μ–ΈνΈ/μ„λΉ„μ¤κ°€ μ§μ ‘ ν†µμ‹ ν•κΈ° λ•λ¬Έμ— κµν™μ΄ μΌμ–΄λ‚λ” λ™μ• μ–‘μ½ λ‹¤ μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό ν•λ‹¤.
- μ„λΉ„μ¤ μΈμ¤ν„΄μ¤(λ“¤)μ μ„μΉ(URL)μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ•κ³  μμ–΄μ•Ό ν•λ‹¤. μ”μ¦ μ• ν”λ¦¬μΌ€μ΄μ…μ€ μ„λΉ„μ¤ λ””μ¤μ»¤λ²„λ¦¬ λ§¤μ»¤λ‹μ¦μ„ μ΄μ©ν•΄μ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΉ„μ¤ μΈμ¤ν„΄μ¤ μ„μΉλ¥Ό μ°Ύμ„ μ μμΌλ―€λ΅ ν° λ‹¨μ μ€ μ•„λ‹λ‹¤.
- μ”μ²­ ν• λ²μΌλ΅ μ—¬λ¬ λ¦¬μ†μ¤λ¥Ό κ°€μ Έμ¤κΈ° μ–΄λ µλ‹¤.
- λ‹¤μ¤‘ μ—…λ°μ΄νΈ μ‘μ—…μ„ HTTP λ™μ‚¬μ— λ§¤ν•‘ν•κΈ° μ–΄λ ¤μΈ λ•κ°€ λ§λ‹¤.

### λ™κΈ° RPI ν¨ν„΄: gRPC
HTTPλ” ν•μ •λ λ™μ‚¬λ§ μ§€μ›ν•κΈ° λ•λ¬Έμ— λ‹¤μ–‘ν• μ—…λ°μ΄νΈ μ‘μ—…μ„ μ§€μ›ν•λ” REST APIλ¥Ό μ„¤κ³„ν•κΈ°κ°€ μ‰½μ§€ μ•λ‹¤. κ·Έλμ„ λ“±μ¥ν• κΈ°μ μ΄ gRPCμ΄λ‹¤.

**gRPCλ” λ‹¤μ–‘ν• μ–Έμ–΄λ΅ ν΄λΌμ΄μ–ΈνΈ/μ„λ²„λ¥Ό μ‘μ„±ν•  μ μλ” ν”„λ μ„μ›ν¬μ΄λ‹¤.** μ΄μ§„ λ©”μ‹μ§€ κΈ°λ°μ ν”„λ΅ν† μ½μ΄λ―€λ΅ μ„λΉ„μ¤λ¥Ό API μ°μ„  λ°©μ‹μΌλ΅ μ„¤κ³„ν•  μ λ°–μ— μ—†λ‹¤. gRPC APIλ” ν”„λ΅ν† μ½ λ²„νΌ κΈ°λ°μ IDLλ΅ μ •μν•λ©°, ν”„λ΅ν† μ½ λ²„νΌ μ»΄νμΌλ¬λ΅ ν΄λΌμ΄μ–ΈνΈ μ½ μ¤ν… λ° μ„λ²„ μ½ μ¤μΌλ ν†¤μ„ μƒμ„±ν•  μ μλ‹¤. μ΄ μ»΄νμΌλ¬λ¥Ό μ΄μ©ν•λ©΄ Java, C#, Node.js, Go λ“± λ‹¤μ–‘ν• μ–Έμ–΄μ μ½”λ“λ¥Ό μƒμ„±ν•  μ μλ‹¤. **ν΄λΌμ΄μ–ΈνΈ/μ„λ²„λ” ν”„λ΅ν† μ½ λ²„νΌ ν¬λ§·μ μ΄μ§„ λ©”μ‹μ§€λ¥Ό HTTP/2λ¥Ό ν†µν•΄ κµν™ν•λ‹¤.**

gRPC APIλ” **ν•λ‚ μ΄μƒμ μ„λΉ„μ¤μ™€ μ”μ²­/μ‘λ‹µ λ©”μ‹μ§€ λ°ν”Όλ‹μ…μΌλ΅ κµ¬μ„±λλ‹¤.** Java Interfaceμ™€ λΉ„μ·ν• μ„λΉ„μ¤ λ°ν”Όλ‹μ…μ€ μ •μ  νƒ€μ… λ©”μ„λ“λ¥Ό λ¨μ•„ λ†“μ€ κ²ƒμ΄λ‹¤. λ‹¨μ μ”μ²­/μ‘λ‹µ RPCλ” λ¬Όλ΅  μ¤νΈλ¦¬λ° RPCλ„ μ§€μ›ν•λ―€λ΅ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— λ©”μ‹μ§€ μ¤νΈλ¦Όμ„ μ‘λ‹µν•λ” κ²ƒλ„ κ°€λ¥ν•λ‹¤. λ°λ€λ΅ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„λ΅ λ©”μ‹μ§€ μ¤νΈλ¦Όμ„ λ³΄λ‚Ό μλ„ μλ‹¤.

gRPCλ” **ν”„λ΅ν† μ½ λ²„νΌ λ©”μ‹μ§€ ν¬λ§·μ„ μ‚¬μ©ν•λ‹¤.** μ΄λ” κ°„κ²°ν•κ³  ν¨μ¨μ μΈ μ΄μ§„ ν¬λ§·μ΄λ‹¤. ν”„λ΅ν† μ½ λ²„νΌ λ©”μ‹μ§€λ” κ° ν•„λ“λ§λ‹¤ λ²νΈκ°€ λ§¤κ²¨μ§€κ³  νƒ€μ… μ½”λ“κ°€ ν• λ‹Ήλλ‹¤. λ©”μ‹μ§€ μμ‹ μλ” μμ‹ μ΄ ν•„μ”ν• ν•„λ“λ§ μ¶”μ¶ν•κ³  λ¨λ¥΄λ” ν•„λ“λ” κ·Έλƒ¥ κ±΄λ„λ›Έ μ μκΈ° λ•λ¬Έμ— ν•μ„ νΈν™μ„±μ„ μ μ§€ν•λ©° APIλ¥Ό λ°μ „μ‹ν‚¬ μ μλ‹¤.

```
service OrderService {
    rpc createOrder(CreateOrderRequest) returns (CreateOrderReply) {}
    rpc createOrder(CancelOrderRequest) returns (CancelOrderReply) {}
    rpc createOrder(ReviseOrderRequest) returns (ReviseOrderReply) {}
    // ...
}

message CreateOrderRequest {
    int64 restaurantId = 1;
    int64 consumerId = 2;
    repeated LineItem lineItems = 3;
    // ...
}

message LineItem {
    string menuItemId = 1;
    int32 quantity = 2;
}

message CreateOrderReply {
    int64 orderId = 1;
}
```

gRPCλ” λ‹¤μκ³Ό κ°™μ€ μ¥μ μ΄ μλ‹¤.
- λ‹¤μ–‘ν• μ—…λ°μ΄νΈ μ‘μ—…μ΄ ν¬ν•¨λ APIλ¥Ό μ„¤κ³„ν•κΈ° μ‰½λ‹¤.
- νΉν ν° λ©”μ‹μ§€λ¥Ό κµν™ν•  λ• μ½¤ν©νΈν•κ³  ν¨μ¨μ μΈ IPCμ΄λ‹¤.
- μ–‘λ°©ν–¥ μ¤νΈλ¦¬λ° λ•λ¶„μ— RPI, λ©”μ‹μ§• λ‘ κ°€μ§€ ν†µμ‹  λ°©μ‹ λ¨λ‘ κ°€λ¥ν•λ‹¤.
- λ‹¤μ–‘ν• μ–Έμ–΄λ΅ μ‘μ„±λ ν΄λΌμ΄μ–ΈνΈ/μ„λ²„ κ°„ μ—°λ™μ΄ κ°€λ¥ν•λ‹¤.

λ‹¨μ μ€ λ‹¤μκ³Ό κ°™λ‹¤.
- JavaScript ν΄λΌμ΄μ–ΈνΈκ°€ ν•λ” μΌμ΄ REST/JSON κΈ°λ° APIλ³΄λ‹¤ λ” λ§λ‹¤.
- κµ¬ν• λ°©ν™”λ²½μ€ HTTP/2λ¥Ό μ§€μ›ν•μ§€ μ•λ”λ‹¤.

gRPCλ” RESTλ¥Ό λ€μ²΄ν•  λ§ν• μ λ ¥ν• λ°©μ•μ΄μ§€λ§, REST μ²λΌ λ™κΈ° ν†µμ‹ ν•λ” λ©”μ»¤λ‹μ¦μ΄λΌ λ¶€λ¶„ μ‹¤ν¨ λ¬Έμ λ” ν’€μ–΄μ•Ό ν•  μ™μ μ΄λ‹¤.

### λ¶€λ¶„ μ‹¤ν¨ μ²λ¦¬: Circuit Breaker(νλ΅ μ°¨λ‹¨κΈ°) ν¨ν„΄
λ¶„μ‚° μ‹μ¤ν…μ€ μ„λΉ„μ¤κ°€ λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό λ™κΈ° νΈμ¶ν•  λ•λ§λ‹¤ λ¶€λ¶„ μ‹¤ν¨ν•  κ°€λ¥μ„±μ΄ ν•­μƒ μ΅΄μ¬ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈ/μ„λΉ„μ¤λ” λ¨λ‘ κ°λ³„ ν”„λ΅μ„Έμ¤λ΅ λ™μ‘ν•κΈ° λ•λ¬Έμ— μ„λΉ„μ¤κ°€ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— μ λ• μ‘λ‹µν•μ§€ λ»ν•κ±°λ‚, μ μ§€λ³΄μ λλ” κΈ°μ μ  μ¤λ¥ λ•λ¬Έμ— μ„λΉ„μ¤κ°€ λ‚΄λ ¤κ° μ μλ‹¤. μ„λΉ„μ¤μ— κ³Όλ¶€ν•κ°€ κ±Έλ ¤ μ‘λ‹µμ΄ λ§¤μ° λ¦μ–΄μ§€λ” κ²½μ°λ„ μλ‹¤.

ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µ λ€κΈ° λ„μ¤‘ λΈ”λ΅ν‚ΉλκΈ° λ•λ¬Έμ— μ„λΉ„μ¤ μ‹¤ν¨λ” ν΄λΌμ΄μ–ΈνΈμ ν΄λΌμ΄μ–ΈνΈλ΅ κ±°μ¬λ¬ μ¬λΌκ°€λ©΄μ„ μ „μ²΄ μ‹μ¤ν…μ μ¤‘λ‹¨μ„ μ΄λν•  μ μλ‹¤.

**Circuit Breaker ν¨ν„΄μ€ μ—°μ† μ‹¤ν¨ νμκ°€ μ£Όμ–΄μ§„ μ„κ³„μΉλ¥Ό μ΄κ³Όν•λ©΄ μΌμ • μ‹κ°„ λ™μ• νΈμ¶μ„ μ¦‰μ‹ κ±°λ¶€ν•λ” RPI ν”„λ΅μ‹λ‹¤.**

![image](https://github.com/alanhakhyeonsong/LetsReadBooks/assets/60968342/6c6a83ac-fa21-423f-844c-e26d5d4ecf4c)

`OrderServiceProxy`λ¥Ό κ·Έλƒ¥ κµ¬ν„ν•λ©΄ μ‘λ‹µμ„ κΈ°λ‹¤λ¦¬λ©° λ¬΄ν•μ • λΈ”λ΅ν‚Ήν•  κ²ƒμ΄λ‹¤. μ¤λ λ“ κ°™μ€ μ£Όμ” λ¦¬μ†μ¤κ°€ κ³ κ°λμ–΄ κ²°κµ­ API Gatewayκ°€ μ”μ²­μ„ μ²λ¦¬ν•  μ μ—†κ² λλ‹¤. κ·Έ κ²°κ³Ό μ „μ²΄ APIλ” μ‚¬μ© λ¶λ¥ μƒνƒκ°€ λ  κ²ƒμ΄λ‹¤. λ”°λΌμ„ λ¶€λ¶„ μ‹¤ν¨κ°€ μ• ν”λ¦¬μΌ€μ΄μ… μ „μ²΄μ— μ „νλμ§€ μ•λ„λ΅ μ„λΉ„μ¤λ¥Ό μ„¤κ³„ν•΄μ•Ό ν•λ‹¤. μ†”λ£¨μ…μ€ λ‘ λ¶€λ¶„μΌλ΅ λ‚λ‰λ‹¤.
- λ¬΄μ‘λ‹µ μ›κ²© μ„λΉ„μ¤λ¥Ό μ²λ¦¬ν•κΈ° μ„ν•΄ `OrderServiceProxy` κ°™μ€ κ²¬κ³ ν• RPI ν”„λ΅μ‹λ¥Ό μ„¤κ³„ν•λ‹¤.
- μ›κ²© μ„λΉ„μ¤κ°€ μ‹¤ν¨ν•λ©΄ μ–΄λ–»κ² μ΅°μΉν•΄μ•Ό ν• μ§€ κ²°μ •ν•λ‹¤.

λ„·ν”λ¦­μ¤ κΈ°μ  λΈ”λ΅κ·Έλ¥Ό λ³΄λ©΄ μ„λΉ„μ¤κ°€ λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό λ™κΈ° νΈμ¶ν•  λ• μκΈ° μ¤μ¤λ΅λ¥Ό λ°©μ–΄ν•λ” λ°©λ²•μ΄ λ…μΎν•κ² κΈ°μ λμ–΄ μλ‹¤.
- λ„¤νΈμ›ν¬ νƒ€μ„μ•„μ›ƒ: μ‘λ‹µ λ€κΈ° μ¤‘μ— λ¬΄ν•μ • λΈ”λ΅ν‚Ήν•λ©΄ μ• λκ³  ν•­μƒ νƒ€μ„μ•„μ›ƒμ„ κ±Έμ–΄ λ‘”λ‹¤. μ΄λ ‡κ² ν•΄μ•Ό λ¦¬μ†μ¤κ°€ λ§λƒ¥ λ¶™μ΅νμ§€ μ•λ”λ‹¤.
- λ―Έμ²λ¦¬ μ”μ²­ κ°μ μ ν•: ν΄λΌμ΄μ–ΈνΈκ°€ νΉμ • μ„λΉ„μ¤μ— μ”μ²­ κ°€λ¥ν• λ―Έμ²λ¦¬ μ”μ²­μ μµλ€ κ°μλ¥Ό μ„¤μ •ν•λ‹¤. μ΄ κ°μμ— μ΄λ¥΄λ©΄ λ” μ΄μƒμ μ”μ²­μ€ λ¬΄μλ―Έν•λ―€λ΅ μ¦‰μ‹ μ‹¤ν¨ μ²λ¦¬ν•λ” κ²ƒμ΄ νƒ€λ‹Ήν•λ‹¤.
- νλ΅ μ°¨λ‹¨κΈ° ν¨ν„΄: μ„±κ³µ/μ‹¤ν¨ μ”μ²­ κ°μλ¥Ό μ§€μΌλ³΄λ‹¤ μ—λ¬μ¨μ΄ μ£Όμ–΄μ§„ μ„κ³„μΉλ¥Ό μ΄κ³Όν•λ©΄ κ·Έ μ΄ν›„ μ‹λ„λ” λ°”λ΅ μ‹¤ν¨ μ²λ¦¬ν•λ‹¤. μ‹¤ν¨λ μ”μ²­μ΄ λ§λ‹¤λ” κ²ƒμ€ μ„λΉ„μ¤κ°€ λ¶λ¥ μƒνƒκ³  λ” μ΄μƒμ μ”μ²­μ€ λ¬΄μλ―Έν•λ‹¨ λ»μ΄λ‹¤. νƒ€μ„μ•„μ›ƒ μ‹κ°„ μ΄ν›„ ν΄λΌμ΄μ–ΈνΈκ°€ μ¬μ‹λ„ν•΄μ„ μ„±κ³µν•λ©΄ νλ΅ μ°¨λ‹¨κΈ°λ” λ‹«νλ‹¤.

Netflix Hystrixλ” μ΄μ™€ κ°™μ΄ λ‹¤μ–‘ν• ν¨ν„΄μ΄ κµ¬ν„λ μ¤ν” μ†μ¤ λΌμ΄λΈλ¬λ¦¬λ‹¤.

νμ¤νΈλ¦­μ¤ κ°™μ€ λΌμ΄λΈλ¬λ¦¬λ” λ¶€λ¶„μ μΈ μ†”λ£¨μ…μ— λ¶κ³Όν•λ‹¤. **λ¬΄μ‘λ‹µ μ›κ²© μ„λΉ„μ¤λ¥Ό μ–΄λ–»κ² λ³µκµ¬ν•λ©΄ μΆ‹μ„μ§€λ” κ·Έλ•κ·Έλ€ μƒν™©μ— λ§κ² νλ‹¨ν•΄μ•Ό ν•λ‹¤.** κ·Έλƒ¥ μ•κΈ° μ‰½κ² μ„λΉ„μ¤κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ—λ¬λ¥Ό λ°ν™ν•λ” κ²ƒμ΄ λ‚μ„ λ•κ°€ μλ‹¤. λ¶€λ¶„ μ‹¤ν¨ μ‹ λ―Έλ¦¬ μ •ν•΄μ§„ κΈ°λ³Έκ°’μ΄λ‚ μΊμ‹λ μ‘λ‹µ λ“± λ€μ²΄ κ°’μ„ λ°ν™ν•λ” λ°©λ²•λ„ μλ‹¤.

![image](https://github.com/alanhakhyeonsong/LetsReadBooks/assets/60968342/5385fd42-6471-4407-b223-85626685865a)

λ¨λ“  μ„λΉ„μ¤μ λ°μ΄ν„°κ°€ ν΄λΌμ΄μ–ΈνΈμ— λ‘κ°™μ΄ μ¤‘μ”ν•μ§„ μ•λ‹¤. μ„ κ·Έλ¦Όμ—μ„  μ£Όλ¬Έ μ„λΉ„μ¤ λ°μ΄ν„°κ°€ κ°€μ¥ μ¤‘μ”ν•λ‹¤. μ„λΉ„μ¤κ°€ λ¶λ¥ μƒνƒκ°€ λμ–΄λ„ λ‹¤λ¥Έ μ„λΉ„μ¤ λ°μ΄ν„°λ” μƒλ€μ μΌλ΅ λ μ¤‘μ”ν•κΈ° λ•λ¬Έμ— API Gatewayλ” μΊμ‹λ λ²„μ „μ λ°μ΄ν„° λλ” μ—λ¬λ¥Ό λ°ν™ν•λ‹¤.

λ¶€λ¶„ μ‹¤ν¨λ¥Ό μ²λ¦¬ν•λ„λ΅ μ„λΉ„μ¤λ¥Ό μ„¤κ³„ν•λ” κ²ƒ μ™Έμ—λ„ RPI μ‚¬μ© μ‹ ν•΄κ²°ν•΄μ•Ό ν•  μ΄μλ” λ§λ‹¤. **μ–΄λ–¤ μ„λΉ„μ¤κ°€ λ‹¤λ¥Έ μ„λΉ„μ¤λ¥Ό RPIλ΅ νΈμ¶ν•  λ• ν•΄λ‹Ή μ„λΉ„μ¤ μΈμ¤ν„΄μ¤μ λ„¤νΈμ›ν¬ μ„μΉλ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ” κ²ƒλ„ λ¬Έμ λ‹¤.** λ³„κ±° μ•„λ‹ κ²ƒ κ°™μ§€λ§ μ‹¤μ λ΅λ” κ½¤ κ³¨μΉ μ•„ν” λ¬Έμ λ‹¤.