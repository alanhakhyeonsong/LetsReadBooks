# 아이템 24. 멤버 클래스는 되도록 static으로 만들라

중첩 클래스(nested class): 다른 클래스 안에 정의된 클래스이다.

자신을 감싼 바깥 클래스에서만 쓰여야 하며, 그 외의 쓰임새가 있다면 톱레벨 클래스로 만들어야 한다.

- 정적 멤버 클래스
- (비정적) 멤버 클래스
- 익명 클래스
- 지역 클래스

첫 번째를 제외한 나머지는 내부 클래스(inner class)이다.

> 📌 [중첩클래스(인스턴스 멤버 클래스, 정적 멤버 클래스, 로컬 클래스)](https://thisisprogrammingworld.tistory.com/29)

예제 코드는 [자바봄 - [아이템 24] 멤버 클래스는 되도록 static으로 만들라](https://javabom.tistory.com/46)을 참고하자.

## 어느 경우에 정적, 비정적 멤버 클래스를 사용할까

**멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여서 정적 멤버 클래스로 만들자.**

- **바깥 인스턴스를 참조하냐 안하냐의 차이**
- `Iterator`, `Adaptor`는 바깥 인스턴스를 참조해야지만 쓸모가 있는 클래스  
  → 비정적 클래스로
- `Entry` 는 `Map` 내부에 있지만, `Map` 정보에 대해 알 필요 없음  
  → `Entry`는 정적 멤버 클래스로 가능
- 반면 `Iterator`들은 바깥 인스턴스 정보를 알아야 함
  → 비정적 클래스
- 다시 말해, 정적 클래스의 경우 새로운 탑클래스로 분리 가능하다 (바깥 클래스를 참조하고 있지 않기 때문에)
- 반면 비정적 클래스의 경우, 바깥 클래스를 참조하고 있는 경우, 새로운 탑 클래스로 분리하는 게 어렵거나 불가능하다.  
  → 그러므로 해당 클래스 내부에 존재하도록 만들어야 한다.

## 네 가지 중첩 클래스 간단 요약

첫 두 가지 케이스는 앞서 설명하였다. 나머지 두 가지는 다음과 같다.

- 익명 클래스: 응용에 제약도 많은 편이고, Java 8의 등장으로 람다 표현식으로 대체되다 싶이 되었다. 주로 정적 팩터리 메서드를 구현할 때 쓰인다.
- 지역 클래스: 네 가지 중첩 클래스 중 가장 드물게 사용된다.

## 핵심 정리

- 중첩 클래스에는 네 가지가 있으며, 각각의 쓰임이 다르다.
- 메서드 밖에서도 사용해야 하거나 메서드 안에 정의하기엔 너무 길다면 멤버 클래스로 만든다.
- 멤버 클래스의 인스턴스 각각이 바깥 인스턴스를 참조한다면 비정적으로, 그렇지 않으면 정적으로 만들자.
- 중첩 클래스가 한 메서드 안에서만 쓰이면서 그 인스턴스를 생성하는 지점이 단 한 곳이고 해당 타입으로 쓰기에 적합한 클래스나 인터페이스가 이미 있다면 익명 클래스로 만들고, 그렇지 않으면 지역 클래스로 만들자.
