# 아이템 30. 이왕이면 제네릭 메서드로 만들라

제네릭 메서드 작성법은 제네릭 타입 작성법과 비슷하다.

메서드 선언에서 세 집합(입력 2개, 반환 1개)의 원소 타입을 타입 매개변수로 명시하고, 메서드 안에서도 이 타입 매개변수만 사용하게 수정하면 된다. **(타입 매개변수들을 선언하는) 타입 매개변수 목록은 메서드 제한자와 반환 타입 사이에 온다.** 다음 코드에서 타입 매개변수 목록은 `<E>`이고 반환 타입은 `Set<E>`이다. 타입 매개변수의 명명 규칙은 제네릭 메서드나 제네릭 타입이나 똑같다.(item 29, 68)

```java
public static <E> Set<E> union(Set<E> s1, Set<E> s2) {
    Set<E> result = new HashSet<>(s1);
    result.addAll(s2);
    return result;
}
```

### 제네릭 싱글턴 팩터리

때때로 불변 객체를 여러 타입으로 활용할 수 있게 만들어야 할 때가 있다.  
제네릭은 런타임에 타입 정보가 소거되므로 하나의 객체를 어떤 타입으로든 매개변수화할 수 있다. 하지만 이렇게 하려면 요청한 타입 매개 변수에 맞게 매번 그 객체의 타입을 바꿔주는 정적 팩터리를 만들어야 한다. 이 패턴을 제네릭 싱글턴 팩터리라 한다.

- `Collections.reverseOrder`
- `Collections.emptySet`

### 재귀적 타입 한정

- 자기 자신이 들어간 표현식을 사용하며, 타입 매개변수의 허용 범위를 한정시키는 것.

```java
public static <E extends Comparable<E>> E max(Collection<E> c);
```

- 모든 타입 E는 자신과 비교할 수 있다.

## 핵심 정리

- 제네릭 타입과 마찬가지로, 클라이언트에서 입력 매개변수와 반환값을 명시적으로 형변환해야 하는 메서드보다 제네릭 메서드가 더 안전하며 사용하기도 쉽다.
- 타입과 마찬가지로, 메서드도 형변환 없이 사용할 수 있는 편이 좋으며, 많은 경우 그렇게 하려면 제네릭 메서드가 되어야 한다.
- 역시 타입과 마찬가지로, 형변환을 해줘야 하는 기존 메서드는 제네릭하게 만들자.
- 기존 클라이언트는 그대로 둔 채 새로운 사용자의 삶을 훨씬 편하게 만들어줄 것이다.
